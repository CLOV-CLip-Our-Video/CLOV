# TIL - 2025년 7월 21일

## 주제: RoomInfo 리팩토링을 통해 배우게 된 React 구조화 및 책임 분리 원칙

## 오늘 한 일 요약

### 1. 커스텀 훅 분리의 명확한 필요성과 맥락 인식

- 기존 RoomInfo.jsx는 getUserMedia, stream 상태, 마이크/카메라 토글 등 기능이 혼재되어 있었음
- useCamera 훅을 통해 기능을 분리함으로써 UI와 로직의 관심사를 분리
- 컴포넌트 내부가 UI 중심으로 정리되면서 코드 가독성과 유지보수성 향상

### 2. 컴포넌트 추출의 기준과 컨텍스트 기반 판단

- 카메라 모드 선택 버튼 그룹을 반복되는 UI라고 해서 무조건 CameraControls에 넣는 것이 아님
- 'CameraControls'는 실제 장치 제어에 해당하는 컨텍스트이고, 'CameraModeSelector'는 사용자 뷰 레벨에 해당
- 따라서 Room 내부의 역할로 분리하고, 구조적으로도 의미가 분명한 폴더 위치에 배치하는 것이 올바른 선택임을 느낌

## 회고

하나의 컴포넌트를 리팩토링하는 과정에서 단순 코드 분할을 넘어서
React가 지향하는 구조화, 책임 분리, 접근성을 실천하는 경험이 되었다.
기능이 되더라도 "그 위치에 있어야 할 이유"를 기술적으로 설명할 수 있어야 한다는 점이 가장 큰 인사이트였다.
