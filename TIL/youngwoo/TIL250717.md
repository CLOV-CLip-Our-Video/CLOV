# TIL - 2025년 7월 17일

## [TIL] 리액트 Modal에서 ESC 키가 바로 작동하지 않는 이유

### 문제

- 모달을 열고 ESC 키를 바로 눌러도 닫히지 않음
- 모달 내부를 한번 클릭해야 ESC 키가 먹힘

### 원인

- `onKeyDown`은 해당 요소가 **포커스를 가져야만** 동작함
- `tabIndex={0}`만 설정해선 자동 포커스는 안됨

### 해결책

- `useRef`와 `useEffect`를 사용해 모달이 열릴 때 `.focus()`를 강제로 주면 됨

```jsx
useEffect(() => {
  if (isOpen && modalRef.current) {
    modalRef.current.focus();
  }
}, [isOpen]);
```
