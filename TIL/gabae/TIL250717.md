# TIL 250717

## 오늘 한 일 : 프로젝트 관련
- 명세서 천천히 다시 읽어보기
- DB에 대한 고민
- 아키텍처 완료
- 다같이 리드미 작성 완료
- ERD 완료
- API 명세서 고치기 완료
- 백엔드 소통에 대해 의견 제시
    - 같이 오늘 무엇을 할 지, 역할 분담은 어떻게 할지 상의 후 하기..!
    - 기존에는 각자 해야할 것 같은 일을 JIRA에 등록하고 각자의 작업을 진행하는 방식이었음
    - 이러다 보니 "아 저 사람은 이걸 하고 있었구나" 정도로만 서로의 작업을 알게 되는 경우가 있었음
    - 서로 모르는 영역을 따로 작업하다 보면 겹치거나 놓치는 부분이 생길 수 있어, 앞으로는 그날 무엇을 할지 함께 상의하고 역할을 나누는 방식으로 바꿔보자는 의견을 제안
    - 작업 전 짧게라도 이야기 나누고 시작하면 소통도 더 원활하고, 전체 흐름도 더 잘 잡힐 것 같다고 느낌!
    - 조심스럽게 말한건데 다들 따뜻하게 얘기해줘서 고마웠고,, 감동받음......ㅜ

## 오늘 한 일 : 개인 공부
- CS 지식 정리
    - https://www.google.com/ 을 접속할 때 일어나는 일
        - 사용자가 브라우저에 https://www.google.com을 입력하면,
        - 먼저 브라우저는 URL을 파싱해 HTTP 요청을 만들고, IP 주소를 알기 위해 DNS Lookup을 수행합니다.
        - 크롬 기준으로는 브라우저 캐시 → hosts 파일 → DNS 캐시 순으로 확인하고, 없으면 DNS 서버에 질의해서 IP를 얻습니다.
        - 그다음, 요청은 OS의 TCP/IP 프로토콜 스택을 통해 패킷으로 만들어지고, 네트워크 어댑터를 통해 전송됩니다.
        - 패킷은 여러 라우터를 거쳐 Google 서버로 도달하며, 서버에서 응답이 오면 브라우저가 이를 렌더링해 사용자가 페이지를 볼 수 있게 됩니다.


    - TCP와 UDP의 차이점
        - TCP는 연결 지향형 프로토콜이고 UDP는 데이터를 데이터그램단위로 전송하는 프로토콜입니다.
        - TCP는 가상 회선을 만들어 신뢰성을 보장하도록(흐름 제어, 혼잡 제어, 오류 제어) 하는 프로토콜로 따로 신뢰성을 보장하기 위한 절차가 없는 UDP에 비해 속도가 느린편입니다.
        - TCP는 그래서 파일전송과 같은 신뢰성이 중요한 서비스에 사용되고, 
        - UDP는 스트리밍, RTP와 같이 연속성이 더 중요한 서비스에 사용됩니다.
        cf) 하지만 UDP도 신뢰성을 UDP자체에서 보장하지 않는 것 뿐이지, 개발자가 직접 신뢰성을 보장하도록 할 수 있습니다. 
        그래서 HTTP/3은 QUIC이라는 프로토콜을 기반으로 하는데, QUIC은 UDP를 기반으로 합니다. 
        즉, UDP 자체는 신뢰성을 보장하지 않지만, 추가적인 정의를 통해 신뢰성을 보장받을 수 있습니다.

## 오늘 배운 것, 고민
- Redis와 RDB...우리 서비스에 맞는건??
    - 초기엔 CLOV가 단발성 경험 위주의 서비스라고 판단해 실시간 처리가 빠른 Redis로만 구현하려함
    - RDB가 없는...백엔드 구현...하려니 뭔가 자꾸 물음표가 생겨서 정말 우리 프로젝트에 Redis만으로 괜찮은가?에 대한 고민
    - 카메라 위치, 확대/축소, 투명도 조절 등..빈번하게 바뀌는 상태는 실시간 정보 -> 이건 Redis. RDB로 처리하면 성능 병목 우려.
    - 대부분의 정보가 세션 종료 시 필요 없어지는 휘발성 데이터라고 초기에는 생각.
    - 방마다 촬영물들을 후에 다시 보게하려면 RDB가 있어야한다고 생각.
    - (다 Redis로 처리하는 것도 부하가 걸릴 수 있음.)
    - 결론..Redis는 실시간 처리에 계속 사용, RDB는 이력 관리, 공통 배경 관리 등에 사용하면 좋다고 최종 결정!
    - 명세서에 있는 컨퍼런스 시스템과 비교해보면서 우리 서비스에 무엇이 적합한지 고민하는 과정이 되었음!

- 공통 배경과 커스텀 배경
    - 공통 배경은 RDB에, 커스텀 배경은 휘발성으로 방마다 한 개씩만 가능하게
    - 공통 배경: 모든 유저가 선택할 수 있도록 서버(DB)에 미리 등록된 배경 이미지 목록
    - 커스텀 배경: 방장이 업로드한 해당 방에서만 사용되는 전용 배경, S3에 업로드되고 Redis에 상태만 저장됨 (한 방당 하나만 존재하며 덮어쓰기 방식)

- 방코드 부여 방식 고민

## 내일 할 일
- WebRTC 조사
- Redis 조사
- API 개발 시작
- 평가1