# 📅 TIL - 2025-07-23

## 📌 오늘 한 일
1. 프로젝트 진행
  - SaveModal 디자인 개선 및 UX 향상
    - 영상 미리보기 중심의 레이아웃으로 변경
    - 기존 큰 버튼들을 VideoPreview 위 오버레이 아이콘으로 변경
      - 기본은 바깥에 배치, 뷰포트가 작아지면 영상 위에 겹쳐짐
  - VideoPreview 컴포넌트 간소화
    - 재생/일시정지 버튼을 플레이어 중앙으로 이동
    - 불필요한 "처음부터" 버튼 제거
    - 하단 컨트롤 패널을 안내 멘트만 있는 공간으로 변경
  - 모달 보호 기능 구현은 내일 영우 오빠가 Modal 컴포넌트 자체를 수정해주기로 함!

2. 학습 내용
  - React 컴포넌트 간 역할 분리 패턴
    - SaveModal은 레이아웃만 담당, 각 버튼은 자체 로직 처리
    - variant prop을 통한 컴포넌트 스타일 확장 (overlay/full)
  - 브라우저 이벤트 활용
    - beforeunload 이벤트로 페이지 이탈 방지
    - useEffect cleanup을 통한 이벤트 리스너 정리
  - UX 디자인 원칙
    - 주요 콘텐츠(영상)를 중심으로 한 인터페이스 설계
    - 아이콘 가시성 개선 (strokeWidth, drop-shadow, opacity 조정)

3. 기타
  - BE 팀원들의 설명을 통해 현재 구성된 BE 시스템에 대한 보다 깊은 이해를 할 수 있었음
    - isHost를 클라이언트 단에서 조작할 수 없도록 Redis에서 저장하기로 함
    - WebSocket과 Pub/Sub 구조에 대한 이해
    - BE와 연결된 상태로 FE 확인하면서 개발 가능했으면 좋겠다고 요청함(부탁해)
    - 기존에 BE 팀원들이 하고 있었던 것처럼 FE의 배움, 특이사항 등을 Notion에 문서화하여 BE 팀원들과 공유하기로 함

---

## 📖 오늘 새롭게 배운 내용
> 컴포넌트 variant 패턴으로 하나의 컴포넌트를 여러 용도로 활용할 수 있다.

```javascript
// 같은 컴포넌트를 다른 스타일로 사용
<DownloadButton variant="overlay" showProgress={true} />  // 오버레이 버전
<DownloadButton variant="primary" size="large" />        // 일반 버튼 버전

// beforeunload 이벤트로 페이지 이탈 방지
useEffect(() => {
  const handleBeforeUnload = (e) => {
    e.preventDefault();
    e.returnValue = '저장하지 않은 영상이 있습니다.';
    return e.returnValue;
  };
  
  window.addEventListener('beforeunload', handleBeforeUnload);
  return () => window.removeEventListener('beforeunload', handleBeforeUnload);
}, [isOpen]);
```